{"version":3,"sources":["services/phonebook.js","components/PersonForm.js","components/Persons.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["url","axios","get","phonebookObject","post","personId","delete","updatedPhonebookObject","put","id","PersonForm","props","onSubmit","event","preventDefault","name","newName","number","newNumber","persons","length","matchedObject","find","person","window","confirm","phonebookService","then","response","setPersons","map","data","catch","error","setErrorMessage","setTimeout","concat","setSuccessMessage","setNewNumber","setNewName","value","onChange","target","type","Person","onClick","Persons","filter","newPersons","toLowerCase","startsWith","Filter","setFilter","Notification","errorMessage","className","successMessage","App","useState","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.71c81ff0.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst url = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(url)\r\n}\r\n\r\nconst create = (phonebookObject) => {\r\n    return axios.post(url, phonebookObject)\r\n}\r\n\r\nconst remove = (personId) => {\r\n    return axios.delete(url+`/${personId}`)\r\n}\r\n\r\nconst replace = (updatedPhonebookObject) => {\r\n    return axios.put(url+`/${updatedPhonebookObject.id}`, updatedPhonebookObject)\r\n}\r\n\r\nexport default {getAll, create, remove, replace}","import React from 'react'\r\n\r\nimport phonebookService from 'A:/CODE/FullStackOpen/part2/src/services/phonebook'\r\n\r\nconst PersonForm = (props) => {\r\n  const addName = (event) => {\r\n    event.preventDefault()    //to stop the page from reloading among other things\r\n\r\n    const phonebookObject = {\r\n      name: props.newName,\r\n      number: props.newNumber,\r\n      id: props.persons[props.persons.length-1].id+1\r\n    }\r\n\r\n    const matchedObject = props.persons.find(person => person.name===props.newName)\r\n\r\n    if(matchedObject)\r\n    {\r\n      if(window.confirm(`${props.newName} is already added to phonebook, would you like to replace with new number?`))\r\n      {\r\n        const updatedPhonebookObject =  {\r\n          ...phonebookObject,\r\n          id: matchedObject.id,\r\n          number: props.newNumber\r\n        }\r\n\r\n        phonebookService\r\n          .replace(updatedPhonebookObject)\r\n          .then(response => {\r\n            props.setPersons(props.persons.map(person => person.id !== updatedPhonebookObject.id ? person : response.data))\r\n          })\r\n          .catch(error => {\r\n            props.setErrorMessage(error.response.data)\r\n            setTimeout(() => {\r\n              props.setErrorMessage(null)\r\n            }, 5000)\r\n\r\n            props.setPersons(props.persons)\r\n          })\r\n      }\r\n    } else {\r\n      phonebookService\r\n        .create(phonebookObject)\r\n        .then(response => {\r\n          // console.log(response)\r\n          props.setPersons(props.persons.concat (response.data)) //concat creates an object copy with changes\r\n          props.setSuccessMessage(\r\n            `Added ${props.newName} to the phonebook`\r\n          )\r\n          setTimeout(() => {\r\n            props.setErrorMessage(null)\r\n          }, 5000)\r\n      })\r\n      .catch(error => {\r\n        props.setErrorMessage(error.response.data)\r\n        setTimeout(() => {\r\n          props.setErrorMessage(null)\r\n        }, 5000)\r\n      })\r\n    }\r\n\r\n    props.setNewNumber('')\r\n    props.setNewName('')\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n      props.setNewName(event.target.value)\r\n    }\r\n  \r\n    const handleNumberChange = (event) => {\r\n      props.setNewNumber(event.target.value)\r\n    }\r\n\r\n    return(\r\n      <form onSubmit={addName}>\r\n        <div>\r\n          name: <input \r\n                  value={props.newName} \r\n                  onChange={handleNameChange}\r\n                />\r\n        </div>\r\n        <div>\r\n          number: <input \r\n                  value={props.newNumber} \r\n                  onChange={handleNumberChange}\r\n                />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nimport phonebookService from 'A:/CODE/FullStackOpen/part2/src/services/phonebook'\r\n\r\nconst deleteNumber = (person) => {\r\n  const handler = () => {\r\n    if(window.confirm(`Delete ${person.name}?`))\r\n      phonebookService.remove(person.id)\r\n  }\r\n  return handler\r\n}\r\n\r\nconst Person = (props) => {\r\n  return(\r\n    <span>\r\n      <p>{props.person.name} {props.person.number}</p>\r\n      <button onClick={deleteNumber(props.person)}>delete</button>\r\n    </span>\r\n  )\r\n}\r\nconst Persons = ({persons, filter}) => {\r\n    if(filter === '')\r\n    {\r\n      return(\r\n        <div>\r\n          {persons.map(person => \r\n            <Person key={person.id} person={person} />\r\n          )}\r\n        </div>\r\n    )} else {\r\n        const newPersons = persons.filter(person => person.name.toLowerCase().startsWith(filter.toLowerCase()))\r\n  \r\n        return(\r\n          <div>\r\n            {newPersons.map(person =>\r\n              <Person key={person.id} person={person}/>\r\n            )}\r\n          </div>\r\n        )\r\n    }\r\n  }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n  const handleFilterChange = (event) => {\r\n    props.setFilter(event.target.value)\r\n  }\r\n\r\n    return(\r\n      <div>\r\n        filter shown with <input\r\n                            value={props.filter}\r\n                            onChange={handleFilterChange}\r\n                          />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Filter","import React from 'react'\r\n\r\nconst Notification = (props) => {\r\n    if(props.errorMessage){\r\n        return(\r\n            <div className='error'>\r\n                {props.errorMessage}\r\n            </div>\r\n    )} else if(props.successMessage){\r\n            return(\r\n            <div className='success'>\r\n                {props.successMessage}\r\n            </div>\r\n    )} else \r\n        return null\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\n\r\nimport PersonForm from './components/PersonForm.js'\r\nimport Persons from './components/Persons.js'\r\nimport Filter from './components/Filter.js'\r\nimport Notification from './components/Notification.js'\r\nimport phonebookService from './services/phonebook'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter] = useState('')\r\n  const [ errorMessage, setErrorMessage] = useState('')\r\n  const [successMessage, setSuccessMessage] = useState('')\r\n\r\n  useEffect (() => {  //ran after component is rendered\r\n    phonebookService\r\n      .getAll()\r\n      .then(response => setPersons(response.data))\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <Notification errorMessage={errorMessage} successMessage={successMessage}/>\r\n\r\n      <h2>Phonebook</h2>\r\n      \r\n      <Filter filter={filter} setFilter={setFilter}/>\r\n      <br/>\r\n\r\n      <PersonForm newName={newName} newNumber={newNumber} persons={persons} setNewName={setNewName} setNewNumber={setNewNumber} setPersons={setPersons} setErrorMessage={setErrorMessage} setSuccessMessage={setSuccessMessage}/>\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} filter={filter} />\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}